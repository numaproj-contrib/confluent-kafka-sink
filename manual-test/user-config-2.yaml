---
apiVersion: v1
kind: ConfigMap
metadata:
  name: user-config
  labels:
    app: kafka-sink
data:
  producer.properties: |
    # Required connection configs for Kafka producer, consumer, and admin
    bootstrap.servers=pkc-921jm.us-east-2.aws.confluent.cloud:9092
    security.protocol=SASL_SSL
    sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username='SR7RM67IKBVXFZZP' password='JQXTx+r2CdYeL13ifFW665YDvfkMb0irhD5UqfjycIDrqEyKHJSbahH7+l+y6p/y';
    sasl.mechanism=PLAIN
    # Required for correctness in Apache Kafka clients prior to 2.6
    client.dns.lookup=use_all_dns_ips
    # Best practice for higher availability in Apache Kafka clients prior to 3.0
    session.timeout.ms=45000
    # Best practice for Kafka producer to prevent data loss
    acks=all
    # Schema Registry connection configurations
    schema.registry.url=https://psrc-5j7x8.us-central1.gcp.confluent.cloud
    basic.auth.credentials.source=USER_INFO
    basic.auth.user.info=TNDMHPEKSSCQM45Q:5/X4u341fUlL3l7p22InVoqzH73asisPf5yrOXyif2w1Cn0QiPWAhZzvOa79qB+M
    # Other configurations
    retries=0
  user.configuration: |
    topicName: numagen
    schema: >
      {
        "type": "record",
        "name": "numagen",
        "fields": [
          {
            "name": "Data",
            "type": {
              "type": "record",
              "name": "Data",
              "fields": [
                {
                  "name": "value",
                  "type": "long"
                }
              ]
            }
          },
          {
            "name": "Createdts",
            "type": "long"
          }
        ]
      }